<!DOCTYPE html>
<html style="display: none;" lang="en">
    <head>
    <meta charset="utf-8">
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.5.2 -->
    <script>
        window.materialVersion = "1.5.2"
        // Delete localstorage with these tags
        window.oldVersion = [
            'codestartv1',
            '1.3.4',
            '1.4.0',
            '1.4.0b1',
            '1.5.0'
        ]
    </script>

    <!-- dns prefetch -->
    <meta http-equiv="x-dns-prefetch-control" content="on">



    <link rel="dns-prefetch" href="https://busuanzi.ibruce.info"/>












    <!-- Meta & Info -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta name="renderer" content="webkit">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!-- Title -->
    
    <title>
        
            Notes, Shell Script | 
        
        TaoSama&#39;s Blog
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" href="/img/favicon.png">

    <meta name="format-detection" content="telephone=no"/>
    <meta name="description" itemprop="description" content="Forward and Never Step Back">
    <meta name="keywords" content="Algorithm, ACMer">
    <meta name="theme-color" content="#0097A7">

    <!-- Disable Fucking Bloody Baidu Tranformation -->
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta http-equiv="Cache-Control" content="no-siteapp" />

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.en.js"></script>
        
    <![endif]-->

    <!-- Import lsloader -->
    <script>(function(){window.lsloader={jsRunSequence:[],jsnamemap:{},cssnamemap:{}};lsloader.removeLS=function(a){try{localStorage.removeItem(a)}catch(b){}};lsloader.setLS=function(a,c){try{localStorage.setItem(a,c)}catch(b){}};lsloader.getLS=function(a){var c="";try{c=localStorage.getItem(a)}catch(b){c=""}return c};versionString="/*"+(window.materialVersion||"unknownVersion")+"*/";lsloader.clean=function(){try{var b=[];for(var a=0;a<localStorage.length;a++){b.push(localStorage.key(a))}b.forEach(function(e){var f=lsloader.getLS(e);if(window.oldVersion){var d=window.oldVersion.reduce(function(g,h){return g||f.indexOf("/*"+h+"*/")!==-1},false);if(d){lsloader.removeLS(e)}}})}catch(c){}};lsloader.clean();lsloader.load=function(f,a,b,d){if(typeof b==="boolean"){d=b;b=undefined}d=d||false;b=b||function(){};var e;e=this.getLS(f);if(e&&e.indexOf(versionString)===-1){this.removeLS(f);this.requestResource(f,a,b,d);return}if(e){var c=e.split(versionString)[0];if(c!=a){console.log("reload:"+a);this.removeLS(f);this.requestResource(f,a,b,d);return}e=e.split(versionString)[1];if(d){this.jsRunSequence.push({name:f,code:e});this.runjs(a,f,e)}else{document.getElementById(f).appendChild(document.createTextNode(e));b()}}else{this.requestResource(f,a,b,d)}};lsloader.requestResource=function(b,e,a,c){var d=this;if(c){this.iojs(e,b,function(h,f,g){d.setLS(f,h+versionString+g);d.runjs(h,f,g)})}else{this.iocss(e,b,function(f){document.getElementById(b).appendChild(document.createTextNode(f));d.setLS(b,e+versionString+f)},a)}};lsloader.iojs=function(d,b,g){var a=this;a.jsRunSequence.push({name:b,code:""});try{var f=new XMLHttpRequest();f.open("get",d,true);f.onreadystatechange=function(){if(f.readyState==4){if((f.status>=200&&f.status<300)||f.status==304){if(f.response!=""){g(d,b,f.response);return}}a.jsfallback(d,b)}};f.send(null)}catch(c){a.jsfallback(d,b)}};lsloader.iocss=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.iofonts=function(f,c,h,a){var b=this;try{var g=new XMLHttpRequest();g.open("get",f,true);g.onreadystatechange=function(){if(g.readyState==4){if((g.status>=200&&g.status<300)||g.status==304){if(g.response!=""){h(g.response);a();return}}b.cssfallback(f,c,a)}};g.send(null)}catch(d){b.cssfallback(f,c,a)}};lsloader.runjs=function(f,c,e){if(!!c&&!!e){for(var b in this.jsRunSequence){if(this.jsRunSequence[b].name==c){this.jsRunSequence[b].code=e}}}if(!!this.jsRunSequence[0]&&!!this.jsRunSequence[0].code&&this.jsRunSequence[0].status!="failed"){var a=document.createElement("script");a.appendChild(document.createTextNode(this.jsRunSequence[0].code));a.type="text/javascript";document.getElementsByTagName("head")[0].appendChild(a);this.jsRunSequence.shift();if(this.jsRunSequence.length>0){this.runjs()}}else{if(!!this.jsRunSequence[0]&&this.jsRunSequence[0].status=="failed"){var d=this;var a=document.createElement("script");a.src=this.jsRunSequence[0].path;a.type="text/javascript";this.jsRunSequence[0].status="loading";a.onload=function(){d.jsRunSequence.shift();if(d.jsRunSequence.length>0){d.runjs()}};document.body.appendChild(a)}}};lsloader.tagLoad=function(b,a){this.jsRunSequence.push({name:a,code:"",path:b,status:"failed"});this.runjs()};lsloader.jsfallback=function(c,b){if(!!this.jsnamemap[b]){return}else{this.jsnamemap[b]=b}for(var a in this.jsRunSequence){if(this.jsRunSequence[a].name==b){this.jsRunSequence[a].code="";this.jsRunSequence[a].status="failed";this.jsRunSequence[a].path=c}}this.runjs()};lsloader.cssfallback=function(e,c,b){if(!!this.cssnamemap[c]){return}else{this.cssnamemap[c]=1}var d=document.createElement("link");d.type="text/css";d.href=e;d.rel="stylesheet";d.onload=d.onerror=b;var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)};lsloader.runInlineScript=function(c,b){var a=document.getElementById(b).innerText;this.jsRunSequence.push({name:c,code:a});this.runjs()}})();</script>

    <!-- Import queue -->
    <script>function Queue(){this.dataStore=[];this.offer=b;this.poll=d;this.execNext=a;this.debug=false;this.startDebug=c;function b(e){if(this.debug){console.log("Offered a Queued Function.")}if(typeof e==="function"){this.dataStore.push(e)}else{console.log("You must offer a function.")}}function d(){if(this.debug){console.log("Polled a Queued Function.")}return this.dataStore.shift()}function a(){var e=this.poll();if(e!==undefined){if(this.debug){console.log("Run a Queued Function.")}e()}}function c(){this.debug=true}}var queue=new Queue();</script>

    <!-- Import CSS -->
    
        <style id="material_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_css","/css/material.min.css?Z7a72R1E4SxzBKR/WGctOA==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
        <style id="style_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("style_css","/css/style.min.css?MKetZV3cUTfDxvMffaOezg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>

        
            
                <style id="prettify_css"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_css","/css/prettify.min.css?zp8STOU9v89XWFEnN+6YmQ==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
                <style id="prettify_theme"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("prettify_theme","/css/prettify/github-v2.min.css?AfzKxt++K+/lhZBlSjnxwg==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>
            
        

    

    

    <!-- Config CSS -->

<!-- Other Styles -->
<style>
  body, html {
    font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    overflow-x: hidden !important;
  }
  
  code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  a {
    color: #00838F;
  }

  .mdl-card__media,
  #search-label,
  #search-form-label:after,
  #scheme-Paradox .hot_tags-count,
  #scheme-Paradox .sidebar_archives-count,
  #scheme-Paradox .sidebar-colored .sidebar-header,
  #scheme-Paradox .sidebar-colored .sidebar-badge{
    background-color: #0097A7 !important;
  }

  /* Sidebar User Drop Down Menu Text Color */
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
  #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
    color: #0097A7 !important;
  }

  #post_entry-right-info,
  .sidebar-colored .sidebar-nav li:hover > a,
  .sidebar-colored .sidebar-nav li:hover > a i,
  .sidebar-colored .sidebar-nav li > a:hover,
  .sidebar-colored .sidebar-nav li > a:hover i,
  .sidebar-colored .sidebar-nav li > a:focus i,
  .sidebar-colored .sidebar-nav > .open > a,
  .sidebar-colored .sidebar-nav > .open > a:hover,
  .sidebar-colored .sidebar-nav > .open > a:focus,
  #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
    color: #0097A7 !important;
  }

  .toTop {
    background: #757575 !important;
  }

  .material-layout .material-post>.material-nav,
  .material-layout .material-index>.material-nav,
  .material-nav a {
    color: #757575;
  }

  #scheme-Paradox .MD-burger-layer {
    background-color: #757575;
  }

  #scheme-Paradox #post-toc-trigger-btn {
    color: #757575;
  }

  .post-toc a:hover {
    color: #00838F;
    text-decoration: underline;
  }

</style>


<!-- Theme Background Related-->

    <style>
      body{
        background-color: #F5F5F5;
      }

      /* blog_info bottom background */
      #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
        background-color: #fff;
      }
    </style>




<!-- Fade Effect -->

    <style>
      .fade {
        transition: all 800ms linear;
        -webkit-transform: translate3d(0,0,0);
        -moz-transform: translate3d(0,0,0);
        -ms-transform: translate3d(0,0,0);
        -o-transform: translate3d(0,0,0);
        transform: translate3d(0,0,0);
        opacity: 1;
      }

      .fade.out{
        opacity: 0;
      }
    </style>


<!-- Import Font -->
<!-- Import Roboto -->

    <style>
        @font-face {
            font-family: Roboto;
            font-style: normal;
            font-weight: 300;
            src: url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.eot);
            src: local('Roboto'),local('Roboto-Normal'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.eot?#iefix) format('embedded-opentype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.woff2) format('woff2'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.woff) format('woff'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.ttf) format('truetype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-300.svg#Roboto) format('svg')
        }

        @font-face {
            font-family: Roboto;
            font-style: normal;
            font-weight: regular;
            src: url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.eot);
            src: local('Roboto'),local('Roboto-Normal'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.eot?#iefix) format('embedded-opentype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.woff2) format('woff2'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.woff) format('woff'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.ttf) format('truetype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-regular.svg#Roboto) format('svg')
        }

        @font-face {
            font-family: Roboto;
            font-style: normal;
            font-weight: 500;
            src: url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.eot);
            src: local('Roboto'),local('Roboto-Normal'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.eot?#iefix) format('embedded-opentype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.woff2) format('woff2'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.woff) format('woff'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.ttf) format('truetype'),url(https://lib.baomitu.com/fonts/roboto/roboto-v15-latin-500.svg#Roboto) format('svg')
        }
    </style>


<!-- Import Material Icons -->


    <style id="material_icons"></style><script>if(typeof window.lsLoadCSSMaxNums === "undefined")window.lsLoadCSSMaxNums = 0;window.lsLoadCSSMaxNums++;lsloader.load("material_icons","/css/material-icons.css?pqhB/Rd/ab0H2+kZp0RDmw==",function(){if(typeof window.lsLoadCSSNums === "undefined")window.lsLoadCSSNums = 0;window.lsLoadCSSNums++;if(window.lsLoadCSSNums == window.lsLoadCSSMaxNums)document.documentElement.style.display="";}, false)</script>




    <!-- Import jQuery -->
    
        <script>lsloader.load("jq_js","/js/jquery.min.js?qcusAULNeBksqffqUM2+Ig==", true)</script>
    

    <!-- WebAPP Icons -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="TaoSama&#39;s Blog">
    <meta name="msapplication-starturl" content="http://TaoSama.github.io/2017/07/31/shell-script-notes/">
    <meta name="msapplication-navbutton-color" content="#0097A7">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-title" content="TaoSama&#39;s Blog">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!-- Site Verification -->
    
    

    <!-- RSS -->
    
        
            <link rel=alternate type="application/atom+xml" href="atom.xml">
        
    

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://TaoSama.github.io/2017/07/31/shell-script-notes/">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Notes, Shell Script | TaoSama&#39;s Blog">
    <meta property="og:image" content="/img/favicon.png">
    <meta property="og:description" content="Forward and Never Step Back">
    

    
        <meta property="article:published_time" content="Mon Jul 31 2017 11:20:00 GMT+0800">
        <meta property="article:modified_time" content="Sat Jan 27 2018 19:10:30 GMT+0800">
    

    <!-- The Twitter Card protocol -->
    <meta name="twitter:card" content="summary_large_image">

    <!-- Add canonical link for SEO -->
    
        <link rel="canonical" href="http://TaoSama.github.io/2017/07/31/shell-script-notes/index.html" />
    

    <!-- Structured-data for SEO -->
    
        


<script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": "http://TaoSama.github.io/2017/07/31/shell-script-notes/index.html",
    "headline": "Notes, Shell Script",
    "datePublished": "Mon Jul 31 2017 11:20:00 GMT+0800",
    "dateModified": "Sat Jan 27 2018 19:10:30 GMT+0800",
    "author": {
        "@type": "Person",
        "name": "TaoSama",
        "image": {
            "@type": "ImageObject",
            "url": "/img/avatar.png"
        },
        "description": "Forward and Never Step Back"
    },
    "publisher": {
        "@type": "Organization",
        "name": "TaoSama&#39;s Blog",
        "logo": {
            "@type":"ImageObject",
            "url": "/img/favicon.png"
        }
    },
    "keywords": "Algorithm, ACMer",
    "description": "Forward and Never Step Back",
}
</script>


    

    <!-- Analytics -->
    
    
    

    <!-- Custom Head -->
    

</head>


    
        <body id="scheme-Paradox" class="lazy">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->


    <!-- Left aligned menu below button -->
    
    
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn" style="max-height:80vh; overflow-y:scroll;">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Acknowledge"><span class="post-toc-number">1.</span> <span class="post-toc-text">Acknowledge</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#The-first-shell-script"><span class="post-toc-number">2.</span> <span class="post-toc-text">The first shell script</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#here-documents"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">here documents</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Top-down-design"><span class="post-toc-number">3.</span> <span class="post-toc-text">Top-down design</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#shell-function"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">shell function</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#local-variable"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">local variable</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#keep-program-runnable"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">keep program runnable</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#control-if-branching"><span class="post-toc-number">4.</span> <span class="post-toc-text">control: if branching</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#if-statement"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">if statement</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#exit-status"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">exit status</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#test-expression"><span class="post-toc-number">4.3.</span> <span class="post-toc-text">test expression</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#test-file-expression"><span class="post-toc-number">4.4.</span> <span class="post-toc-text">test file expression</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#test-string-expression"><span class="post-toc-number">4.5.</span> <span class="post-toc-text">test string expression</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#test-integer-expression"><span class="post-toc-number">4.6.</span> <span class="post-toc-text">test integer expression</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#compound-command-enhanced-test-expression"><span class="post-toc-number">4.7.</span> <span class="post-toc-text">compound command, enhanced test expression</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#combine-expressions"><span class="post-toc-number">4.8.</span> <span class="post-toc-text">combine expressions</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#two-control-operators-can-perform-branching"><span class="post-toc-number">4.9.</span> <span class="post-toc-text">two control operators, can perform branching</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#detect-permission-with-if"><span class="post-toc-number">4.10.</span> <span class="post-toc-text">detect permission with if</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Keyboard-input"><span class="post-toc-number">5.</span> <span class="post-toc-text">Keyboard input</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#IFS-Internal-Field-Separator"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">IFS (Internal Field Separator)</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#validating-input"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">validating input</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#menu"><span class="post-toc-number">5.3.</span> <span class="post-toc-text">menu</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Flow-control-while-until-loop"><span class="post-toc-number">6.</span> <span class="post-toc-text">Flow control: while/until loop</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#while"><span class="post-toc-number">6.1.</span> <span class="post-toc-text">while</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#until"><span class="post-toc-number">6.2.</span> <span class="post-toc-text">until</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#process-files-with-while-or-until-loop"><span class="post-toc-number">6.3.</span> <span class="post-toc-text">process files with while or until loop</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Stay-out-of-trouble"><span class="post-toc-number">7.</span> <span class="post-toc-text">Stay out of trouble</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#syntactic-errors"><span class="post-toc-number">7.1.</span> <span class="post-toc-text">syntactic errors</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#logical-errors"><span class="post-toc-number">7.2.</span> <span class="post-toc-text">logical errors</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#testing"><span class="post-toc-number">7.3.</span> <span class="post-toc-text">testing</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#debugging"><span class="post-toc-number">7.4.</span> <span class="post-toc-text">debugging</span></a></li></ol></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#trouble-script-to-demonstrate-common-errors"><span class="post-toc-number"></span> <span class="post-toc-text">trouble: script to demonstrate common errors</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#to-activate-tracing-for-the-entire-script-by-adding-the-x-option-to-the-first-line"><span class="post-toc-number"></span> <span class="post-toc-text">to activate tracing for the entire script by adding the -x option to the first line</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Flow-control-case-branching"><span class="post-toc-number">1.</span> <span class="post-toc-text">Flow control: case branching</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#match-more-the-one-test"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">match more the one test</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Positional-parameters"><span class="post-toc-number">2.</span> <span class="post-toc-text">Positional parameters</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#access-to-the-contents-of-the-command-line"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">access to the contents of the command line</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#shift-access-to-a-large-number-of-arguments"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">shift, access to a large number of arguments</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#group-positional-parameters"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">group positional parameters</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#a-complicated-application"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">a complicated application</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#control-for-loop"><span class="post-toc-number">3.</span> <span class="post-toc-text">control: for loop</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#the-original-for-command’s-syntax"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">the original for command’s syntax</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#C-style"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">C style</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Strings-and-numbers"><span class="post-toc-number">4.</span> <span class="post-toc-text">Strings and numbers</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Arrays"><span class="post-toc-number">5.</span> <span class="post-toc-text">Arrays</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Odds-and-ends"><span class="post-toc-number">6.</span> <span class="post-toc-text">Odds and ends</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#group-command"><span class="post-toc-number"></span> <span class="post-toc-text">group command</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#the-braces-must-be-separated-from-the-commands-by-a-space"><span class="post-toc-number"></span> <span class="post-toc-text">the braces must be separated from the commands by a space</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#the-last-command-must-be-terminated-with-either-a-semicolon-or-a-newline-prior-to-the-closing-brace"><span class="post-toc-number"></span> <span class="post-toc-text">the last command must be terminated with either a semicolon or a newline prior to the closing brace.</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#subshell"><span class="post-toc-number"></span> <span class="post-toc-text">subshell</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#for-processes-that-produce-standard-output"><span class="post-toc-number"></span> <span class="post-toc-text">for processes that produce standard output:</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#for-processes-that-intake-standard-input"><span class="post-toc-number"></span> <span class="post-toc-text">for processes that intake standard input:</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Summay"><span class="post-toc-number">1.</span> <span class="post-toc-text">Summay</span></a></li></ol>
    </ul>
    




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        
            <!-- Random Thumbnail -->
            <div class="post_thumbnail-random mdl-card__media mdl-color-text--grey-50">
            <script type="text/ls-javascript" id="post-thumbnail-script">
    var randomNum = Math.floor(Math.random() * 19 + 1);

    $('.post_thumbnail-random').attr('data-original', '/img/random/material-' + randomNum + '.png');
    $('.post_thumbnail-random').addClass('lazy');
</script>

        
    
            <p class="article-headline-p">
                Notes, Shell Script
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>TaoSama</strong>
        <span>Jul 31, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    

    <!-- Tags (bookmark) -->
    

    <!-- Share -->
    
        <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    

    
        
            <!-- Busuanzi Views -->
            <a class="post_share-link" href="#">
                <li class="mdl-menu__item">
                    <span id="busuanzi_container_page_pv">
                        <span id="busuanzi_value_page_pv"></span>&nbsp;Views
                    </span>
                </li>
            </a>
        
    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Notes, Shell Script&url=http://TaoSama.github.io/2017/07/31/shell-script-notes/index.html&pic=http://TaoSama.github.io/img/favicon.png&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                Share to Weibo
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Notes, Shell Script&url=http://TaoSama.github.io/2017/07/31/shell-script-notes/index.html&via=TaoSama" target="_blank">
            <li class="mdl-menu__item">
                Share to Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://TaoSama.github.io/2017/07/31/shell-script-notes/index.html" target="_blank">
            <li class="mdl-menu__item">
                Share to Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    
        <a class="post_share-link" href="https://plus.google.com/share?url=http://TaoSama.github.io/2017/07/31/shell-script-notes/index.html" target="_blank">
            <li class="mdl-menu__item">
                Share to Google+
            </li>
        </a>
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    

    <!-- Share Telegram -->
    
</ul>

    
</div>

                

                <!-- Post Content -->
                <div id="post-content" class="mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <p><del>Last Modified: 2017-08-11 11:18:00</del></p>
<h3 id="Acknowledge"><a href="#Acknowledge" class="headerlink" title="Acknowledge"></a>Acknowledge</h3><ul>
<li>What is shell script?<br>A shell script is a file containing a series of commands.</li>
</ul>
<h3 id="The-first-shell-script"><a href="#The-first-shell-script" class="headerlink" title="The first shell script"></a>The first shell script</h3><p><code>hello_world.sh</code></p>
<pre><code class="shell">#!/bin/bash
# The line above is called a shebang.
# Every shell script should include this as its first line.

# This is our first script.
echo &#39;Hello World!&#39;
</code></pre>
<ul>
<li>make it executable<br>```shell<br>ls -l hello_world<br>-rw-r–r– 1  me    me      63  2009-03-07 10:10 hello_world<br>chmod 755 hello_world<br>ls -l hello_world<br>-rwxr-xr-x 1  me    me      63  2009-03-07 10:10 hello_world</li>
</ul>
<p>./hello_word<br>Hello World!</p>
<pre><code>&lt;!--- more ---&gt;

### Build a program
```shell
#!/bin/bash
# Program to output a system information page
TITLE=&quot;System Information Report For $HOSTNAME&quot;
CURRENT_TIME=$(date +&quot;%x %r %Z&quot;)
TIME_STAMP=&quot;Generated $CURRENT_TIME, by $USER&quot;
echo &quot;&lt;HTML&gt;
        &lt;HEAD&gt;
                &lt;TITLE&gt;$TITLE&lt;/TITLE&gt;
        &lt;/HEAD&gt;
        &lt;BODY&gt;
                &lt;H1&gt;$TITLE&lt;/H1&gt;
                &lt;P&gt;$TIME_STAMP&lt;/P&gt;
        &lt;/BODY&gt;
&lt;/HTML&gt;&quot;
</code></pre><h4 id="here-documents"><a href="#here-documents" class="headerlink" title="here documents"></a>here documents</h4><pre><code class="shell">command &lt;&lt; token
text
token
</code></pre>
<ul>
<li>By default, <strong>single and double quotes</strong> within here documents <strong>lose their special meaning</strong> to the shell.</li>
<li>If we change the redirection operator from <strong>“&lt;&lt;” to “&lt;&lt;-“</strong>, the shell will <strong>ignore leading tab characters</strong> in the here document. This allows a here document to be indented, which can improve readability.<pre><code class="shell">#!/bin/bash
# Program to output a system information page
TITLE=&quot;System Information Report For $HOSTNAME&quot;
CURRENT_TIME=$(date +&quot;%x %r %Z&quot;)
TIME_STAMP=&quot;Generated $CURRENT_TIME, by $USER&quot;
cat &lt;&lt; _EOF_
&lt;HTML&gt;
       &lt;HEAD&gt;
              &lt;TITLE&gt;$TITLE&lt;/TITLE&gt;
       &lt;/HEAD&gt;
       &lt;BODY&gt;
              &lt;H1&gt;$TITLE&lt;/H1&gt;
              &lt;P&gt;$TIME_STAMP&lt;/P&gt;
       &lt;/BODY&gt;
&lt;/HTML&gt;
_EOF_
</code></pre>
</li>
</ul>
<h3 id="Top-down-design"><a href="#Top-down-design" class="headerlink" title="Top-down design"></a>Top-down design</h3><h4 id="shell-function"><a href="#shell-function" class="headerlink" title="shell function"></a>shell function</h4><pre><code class="shell">function name {
    commands
    return
}
and
name () {
    commands
    return
}
</code></pre>
<h4 id="local-variable"><a href="#local-variable" class="headerlink" title="local variable"></a>local variable</h4><pre><code class="shell">#!/bin/bash
i=0
function hello {
    local i=1
    echo &#39;local i = &#39;$i
    echo &#39;Hello World&#39;
}

hello
echo &#39;global i = &#39;$i
</code></pre>
<h4 id="keep-program-runnable"><a href="#keep-program-runnable" class="headerlink" title="keep program runnable"></a>keep program runnable</h4><pre><code class="shell">#!/bin/bash
# Program to output a system information page
TITLE=&quot;System Information Report For $HOSTNAME&quot;
CURRENT_TIME=$(date +&quot;%x %r %Z&quot;)
TIME_STAMP=&quot;Generated $CURRENT_TIME, by $USER&quot;
report_uptime () {
  echo &quot;Function report_uptime executed.&quot;
  return
}
report_disk_space () {
  echo &quot;Function report_disk_space executed.&quot;
  return
}
report_home_space () {
  echo &quot;Function report_home_space executed.&quot;
  return
}
cat &lt;&lt; _EOF_
&lt;HTML&gt;
    &lt;HEAD&gt;
        &lt;TITLE&gt;$TITLE&lt;/TITLE&gt;
    &lt;/HEAD&gt;
    &lt;BODY&gt;
        &lt;H1&gt;$TITLE&lt;/H1&gt;
        &lt;P&gt;$TIME_STAMP&lt;/P&gt;
        $(report_uptime)
        $(report_disk_space)
        $(report_home_space)
    &lt;/BODY&gt;
&lt;/HTML&gt;
_EOF_

############################################
./sys_info_page
&lt;HTML&gt;
&lt;HEAD&gt;
&lt;TITLE&gt;System Information Report For linuxbox&lt;/TITLE&gt;
&lt;/HEAD&gt;
&lt;BODY&gt;
&lt;H1&gt;System Information Report For linuxbox&lt;/H1&gt;
&lt;P&gt;Generated 03/20/2009 05:17:26 AM EDT, by me&lt;/P&gt;
Function report_uptime executed.
Function report_disk_space executed.
Function report_home_space executed.
&lt;/BODY&gt;
&lt;/HTML&gt;
</code></pre>
<h3 id="control-if-branching"><a href="#control-if-branching" class="headerlink" title="control: if branching"></a>control: if branching</h3><h4 id="if-statement"><a href="#if-statement" class="headerlink" title="if statement"></a>if statement</h4><pre><code class="shell">if commands; then
     commands
[elif commands; then
     commands...]
[else
     commands]
fi
</code></pre>
<h4 id="exit-status"><a href="#exit-status" class="headerlink" title="exit status"></a>exit status</h4><pre><code class="shell">ls -d /usr/bin
/usr/bin
echo $?
0
ls -d /bin/usr
ls: cannot access /bin/usr: No such file or directory
echo $?
2
</code></pre>
<h4 id="test-expression"><a href="#test-expression" class="headerlink" title="test expression"></a>test expression</h4><p>The test command returns an <strong>exit status</strong> of <strong>zero</strong> when the <strong>expression is true</strong> and a status of <strong>one</strong> when the <strong>expression is false</strong>.</p>
<pre><code class="shell">test expression
# the more popular one:
[ expression ]
</code></pre>
<h4 id="test-file-expression"><a href="#test-file-expression" class="headerlink" title="test file expression"></a>test file expression</h4><pre><code class="shell">test_file () {
    # test-file: Evaluate the status of a file
    FILE=~/.bashrc
    if [ -e &quot;$FILE&quot; ]; then
        if [ -f &quot;$FILE&quot; ]; then
            echo &quot;$FILE is a regular file.&quot;
        fi
        if [ -d &quot;$FILE&quot; ]; then
            echo &quot;$FILE is a directory.&quot;
        fi
        if [ -r &quot;$FILE&quot; ]; then
            echo &quot;$FILE is readable.&quot;
        fi
        if [ -w &quot;$FILE&quot; ]; then
            echo &quot;$FILE is writable.&quot;
        fi
        if [ -x &quot;$FILE&quot; ]; then
            echo &quot;$FILE is executable/searchable.&quot;
        fi
    else
        echo &quot;$FILE does not exist&quot;
        return 1
    fi
}
</code></pre>
<h4 id="test-string-expression"><a href="#test-string-expression" class="headerlink" title="test string expression"></a>test string expression</h4><table>
<thead>
<tr>
<th style="text-align:center">Expression</th>
<th style="text-align:left">Is Ture If…</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">string</td>
<td style="text-align:left">string is not null.</td>
</tr>
<tr>
<td style="text-align:center">-n string</td>
<td style="text-align:left">The length of string is greater than zero.</td>
</tr>
<tr>
<td style="text-align:center">-z string</td>
<td style="text-align:left">The length of string is zero.</td>
</tr>
<tr>
<td style="text-align:center">string1 = string2 or string1 == string2</td>
<td style="text-align:left">string1 and string2 are equal. Single or double equal signs may be used, but the use of double equal signs is greatly preferred.</td>
</tr>
<tr>
<td style="text-align:center">string1 != string2</td>
<td style="text-align:left">string1 and string2 are not equal.</td>
</tr>
<tr>
<td style="text-align:center">string1 &gt; string2</td>
<td style="text-align:left">sting1 sorts after string2.</td>
</tr>
<tr>
<td style="text-align:center">string1 &lt; string2</td>
<td style="text-align:left">string1 sorts before string2.</td>
</tr>
</tbody>
</table>
<h4 id="test-integer-expression"><a href="#test-integer-expression" class="headerlink" title="test integer expression"></a>test integer expression</h4><table>
<thead>
<tr>
<th style="text-align:center">Expression</th>
<th style="text-align:left">Is Ture If…</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">integer1 -eq integer2</td>
<td style="text-align:left">integer1 is equal to integer2.</td>
</tr>
<tr>
<td style="text-align:center">integer1 -ne integer2</td>
<td style="text-align:left">integer1 is not equal to integer2.</td>
</tr>
<tr>
<td style="text-align:center">integer1 -le integer2</td>
<td style="text-align:left">integer1 is less than or equal to integer2.</td>
</tr>
<tr>
<td style="text-align:center">integer1 -lt integer2</td>
<td style="text-align:left">integer1 is less than integer2.</td>
</tr>
<tr>
<td style="text-align:center">integer1 -ge integer2</td>
<td style="text-align:left">integer1 is greater than or equal to integer2.</td>
</tr>
<tr>
<td style="text-align:center">integer1 -gt integer2</td>
<td style="text-align:left">integer1 is greater than integer2.</td>
</tr>
</tbody>
</table>
<h4 id="compound-command-enhanced-test-expression"><a href="#compound-command-enhanced-test-expression" class="headerlink" title="compound command, enhanced test expression"></a>compound command, enhanced test expression</h4><p><code>[[ expression ]]</code>: it is similar to test and it supports all of its expressions.</p>
<pre><code class="shell"># but add a new string expression
# which returns true if string is matched by the extended regular expression regex
string =~ regex
</code></pre>
<pre><code class="shell">#!/bin/bash
# test-integer2: evaluate the value of an integer.
INT=-5
if [[ &quot;$INT&quot; =~ ^-?[0-9]+$ ]]; then
    if [ $INT -eq 0 ]; then
        echo &quot;INT is zero.&quot;
    else
        if [ $INT -lt 0 ]; then
            echo &quot;INT is negative.&quot;
        else
            echo &quot;INT is positive.&quot;
        fi
        if [ $((INT % 2)) -eq 0 ]; then
            echo &quot;INT is even.&quot;
        else
            echo &quot;INT is odd.&quot;
        fi
    fi
else
    echo &quot;INT is not an integer.&quot; &gt;&amp;2
    exit 1
fi
</code></pre>
<p>Another added feature of <code>[[ ]]</code> is that the == operator supports pattern matching the same way pathname expansion does. For example:</p>
<pre><code class="shell">FILE=foo.bar
if [[ $FILE == foo.* ]]; then
&gt; echo &quot;$FILE matches pattern &#39;foo.*&#39;&quot;
&gt; fi
foo.bar matches pattern &#39;foo.*&#39;
</code></pre>
<p><code>(( arithmetic expression ))</code>: it is used to perform arithmetic truth tests.</p>
<pre><code class="shell">#!/bin/bash
# test-integer2a: evaluate the value of an integer.
INT=-5
if [[ &quot;$INT&quot; =~ ^-?[0-9]+$ ]]; then
    if ((INT == 0)); then
        echo &quot;INT is zero.&quot;
    else
        if ((INT &lt; 0)); then
            echo &quot;INT is negative.&quot;
        else
            echo &quot;INT is positive.&quot;
        fi
        if (( ((INT % 2)) == 0)); then
            echo &quot;INT is even.&quot;
        else
            echo &quot;INT is odd.&quot;
        fi
    fi
else
    echo &quot;INT is not an integer.&quot; &gt;&amp;2
    exit 1
fi
</code></pre>
<h4 id="combine-expressions"><a href="#combine-expressions" class="headerlink" title="combine expressions"></a>combine expressions</h4><p>Logical Operators</p>
<table>
<thead>
<tr>
<th style="text-align:center">Operation</th>
<th style="text-align:center">test</th>
<th style="text-align:center">[[ ]] and (( ))</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">AND</td>
<td style="text-align:center">-a</td>
<td style="text-align:center"><code>&amp;&amp;</code></td>
</tr>
<tr>
<td style="text-align:center">OR</td>
<td style="text-align:center">-o</td>
<td style="text-align:center"><code>&#124;&#124;</code></td>
</tr>
<tr>
<td style="text-align:center">NOT</td>
<td style="text-align:center">!</td>
<td style="text-align:center">!</td>
</tr>
</tbody>
</table>
<pre><code class="shell">#!/bin/bash
# test-integer3: determine if an integer is within a
# specified range of values.
MIN_VAL=1
MAX_VAL=100
INT=50
if [[ &quot;$INT&quot; =~ ^-?[0-9]+$ ]]; then
    if [[ INT -ge MIN_VAL &amp;&amp; INT -le MAX_VAL ]]; then
        echo &quot;$INT is within $MIN_VAL to $MAX_VAL.&quot;
    else
        echo &quot;$INT is out of range.&quot;
    fi
else
    echo &quot;INT is not an integer.&quot; &gt;&amp;2
    exit 1
fi
</code></pre>
<p>We also include parentheses around the expression, for grouping</p>
<pre><code class="shell">if [ ! \( $INT -ge $MIN_VAL -a $INT -le $MAX_VAL \) ]; then
    echo &quot;$INT is outside $MIN_VAL to $MAX_VAL.&quot;
else
    echo &quot;$INT is in range.&quot;
fi
</code></pre>
<h4 id="two-control-operators-can-perform-branching"><a href="#two-control-operators-can-perform-branching" class="headerlink" title="two control operators, can perform branching"></a>two control operators, can perform branching</h4><p><code>command1 &amp;&amp; command2</code><br><code>command1 || command2</code></p>
<pre><code class="shell">mkdir temp &amp;&amp; cd temp
[ -d temp ] || mkdir temp
[ -d temp ] || exit 1
</code></pre>
<h4 id="detect-permission-with-if"><a href="#detect-permission-with-if" class="headerlink" title="detect permission with if"></a>detect permission with if</h4><pre><code class="shell">report_home_space () {
    if [[ $(id -u) -eq 0 ]]; then
        cat &lt;&lt;- _EOF_
        &lt;H2&gt;Home Space Utilization (All Users)&lt;/H2&gt;
        &lt;PRE&gt;$(du -sh /home/*)&lt;/PRE&gt;
_EOF_
    else
        cat &lt;&lt;- _EOF_
        &lt;H2&gt;Home Space Utilization ($USER)&lt;/H2&gt;
        &lt;PRE&gt;$(du -sh $HOME)&lt;/PRE&gt;
_EOF_
    fi
    return
}
</code></pre>
<h3 id="Keyboard-input"><a href="#Keyboard-input" class="headerlink" title="Keyboard input"></a>Keyboard input</h3><pre><code class="shell">read [-options] [variable...]
</code></pre>
<ul>
<li>If read receives <strong>fewer</strong> than the expected number, the <strong>extra variables are empty</strong>.</li>
<li>If read receives <strong>more</strong> than the expected number, the <strong>final variable</strong> will contain <strong>all of the extra input</strong>. </li>
<li>If no variables are listed after the read command, a shell variable, <code>REPLY</code>, will be assigned all the input.</li>
</ul>
<pre><code class="shell">#!/bin/bash
# read-secret: input a secret pass phrase
if read -t 10 -sp &quot;Enter secret pass phrase &gt; &quot; secret_pass; then
    echo &quot;\nSecret pass phrase = &#39;$secret_pass&#39;&quot;
else
    echo &quot;\nInput timed out&quot; &gt;&amp;2
    exit 1
fi
</code></pre>
<h4 id="IFS-Internal-Field-Separator"><a href="#IFS-Internal-Field-Separator" class="headerlink" title="IFS (Internal Field Separator)"></a>IFS (Internal Field Separator)</h4><p>The shell allows one or more variable assignments to take place immediately before a command.<br>These assignments alter the environment for the command that follows.<br><strong>The effect of the assignment is temporary</strong>; only changing the environment for the duration of the command.<br>In our case, the value of IFS is changed to a colon character. </p>
<pre><code class="shell">#!/bin/bash
# read-ifs: read fields from a file
FILE=/etc/passwd
read -p &quot;Enter a user name &gt; &quot; user_name
file_info=$(grep &quot;^$user_name:&quot; $FILE)
if [ -n &quot;$file_info&quot; ]; then
    IFS=&quot;:&quot; read user pw uid gid name home shell &lt;&lt;&lt; &quot;$file_info&quot;
    echo &quot;User = &#39;$user&#39;&quot;
    echo &quot;UID = &#39;$uid&#39;&quot;
    echo &quot;GID = &#39;$gid&#39;&quot;
    echo &quot;Full Name = &#39;$name&#39;&quot;
    echo &quot;Home Dir. = &#39;$home&#39;&quot;
    echo &quot;Shell = &#39;$shell&#39;&quot;
else
    echo &quot;No such user &#39;$user_name&#39;&quot; &gt;&amp;2
    exit 1
fi
</code></pre>
<p>The <code>&lt;&lt;&lt;</code> operator indicates <strong>a here string</strong>.<br>A here string is like a here document, only shorter, consisting of a single string.<br>We might wonder why this <strong>rather oblique method</strong> was chosen rather than:</p>
<pre><code class="shell">echo &quot;$file_info&quot; | IFS=&quot;:&quot; read user pw uid gid name home shell
</code></pre>
<p><strong>You Can’t Pipe read</strong><br>The explanation has to do with the way the <strong>shell handles pipelines</strong>.<br>In bash (and other shells such as sh), <strong>pipelines create subshells</strong> (subshells is the subprocesses).<br>Subshells in Unix-like systems create copies of the environment for the processes to use while they execute.<br>When the command exits, the subshell and its environment are destroyed.<br>This means that a subshell can never alter the environment of its parent process.<br><strong>Then the effect of the assignment is lost</strong>.</p>
<h4 id="validating-input"><a href="#validating-input" class="headerlink" title="validating input"></a>validating input</h4><pre><code class="shell">
    echo &quot;Invalid input &#39;$REPLY&#39;&quot; &gt;&amp;2
    exit 1
}
read -p &quot;Enter a single item &gt; &quot;
# input is empty (invalid)
[[ -z $REPLY ]] &amp;&amp; invalid_input
# input is multiple items (invalid)
(( $(echo $REPLY | wc -w) &gt; 1 )) &amp;&amp; invalid_input
# is input a valid filename?
if [[ $REPLY =~ ^[-[:alnum:]\._]+$ ]]; then
    echo &quot;&#39;$REPLY&#39; is a valid filename.&quot;
    if [[ -e $REPLY ]]; then
        echo &quot;And file &#39;$REPLY&#39; exists.&quot;
    else
        echo &quot;However, file &#39;$REPLY&#39; does not exist.&quot;
    fi
    # is input a floating point number?
    if [[ $REPLY =~ ^-?[[:digit:]]*\.[[:digit:]]+$ ]]; then
        echo &quot;&#39;$REPLY&#39; is a floating point number.&quot;
    else
        echo &quot;&#39;$REPLY&#39; is not a floating point number.&quot;
    fi
    # is input an integer?
    if [[ $REPLY =~ ^-?[[:digit:]]+$ ]]; then
        echo &quot;&#39;$REPLY&#39; is an integer.&quot;
    else
        echo &quot;&#39;$REPLY&#39; is not an integer.&quot;
    fi
else
    echo &quot;The string &#39;$REPLY&#39; is not a valid filename.&quot;
fi
</code></pre>
<h4 id="menu"><a href="#menu" class="headerlink" title="menu"></a>menu</h4><pre><code class="shell">#!/bin/bash
# read-menu: a menu driven system information program
clear
echo &quot;
Please Select:

    1. Display System Information
    2. Display Disk Space
    3. Display Home Space Utilization
    0. Quit
&quot;
read -p &quot;Enter selection [0-3] &gt; &quot;

if [[ $REPLY =~ ^[0-3]$ ]]; then
    if [[ $REPLY == 0 ]]; then
        echo &quot;Program terminated.&quot;
        exit
    fi
    if [[ $REPLY == 1 ]]; then
        echo &quot;Hostname: $HOSTNAME&quot;
        uptime
        exit
    fi
    if [[ $REPLY == 2 ]]; then
        df -h
        exit
    fi
    if [[ $REPLY == 3 ]]; then
        if [[ $(id -u) -eq 0 ]]; then
            echo &quot;Home Space Utilization (All Users)&quot;
            du -sh /home/*
        else
            echo &quot;Home Space Utilization ($USER)&quot;
            du -sh $HOME
        fi
        exit
    fi
else
    echo &quot;Invalid entry.&quot; &gt;&amp;2
    exit 1
fi
</code></pre>
<h3 id="Flow-control-while-until-loop"><a href="#Flow-control-while-until-loop" class="headerlink" title="Flow control: while/until loop"></a>Flow control: while/until loop</h3><h4 id="while"><a href="#while" class="headerlink" title="while"></a>while</h4><pre><code class="shell">while commands; do commands; done
</code></pre>
<p><code>break</code> and <code>continue</code></p>
<pre><code class="shell">#!/bin/bash
# while-menu2: a menu driven system information program
DELAY=3 # Number of seconds to display results
while true; do
    clear
    cat &lt;&lt;- _EOF_
        Please Select:
        1. Display System Information
        2. Display Disk Space
        3. Display Home Space Utilization
        0. Quit
    _EOF_
    read -p &quot;Enter selection [0-3] &gt; &quot;
    if [[ $REPLY =~ ^[0-3]$ ]]; then
        if [[ $REPLY == 1 ]]; then
            echo &quot;Hostname: $HOSTNAME&quot;
            uptime
            sleep $DELAY
            continue
        fi
        if [[ $REPLY == 2 ]]; then
            df -h
            sleep $DELAY
            continue
        fi
        if [[ $REPLY == 3 ]]; then
            if [[ $(id -u) -eq 0 ]]; then
                echo &quot;Home Space Utilization (All Users)&quot;
                du -sh /home/*
            else
                echo &quot;Home Space Utilization ($USER)&quot;
                du -sh $HOME
            fi
            sleep $DELAY
            continue
        fi
        if [[ $REPLY == 0 ]]; then
            break
        fi
    else
        echo &quot;Invalid entry.&quot;
        sleep $DELAY
    fi
done
echo &quot;Program terminated.&quot;
</code></pre>
<h4 id="until"><a href="#until" class="headerlink" title="until"></a>until</h4><pre><code class="shell">#!/bin/bash
# until-count: display a series of numbers
count=1
until [ $count -gt 5 ]; do
    echo $count
    count=$((count + 1))
done
echo &quot;Finished.&quot;
</code></pre>
<h4 id="process-files-with-while-or-until-loop"><a href="#process-files-with-while-or-until-loop" class="headerlink" title="process files with while or until loop"></a>process files with while or until loop</h4><ul>
<li>redirection<pre><code class="shell">#!/bin/bash
# while-read: read lines from a file
while read distro version release; do
  printf &quot;Distro: %s\tVersion: %s\tReleased: %s\n&quot; \
      $distro \
      $version \
      $release
done &lt; distros.txt
</code></pre>
</li>
<li>pipe<pre><code class="shell">#!/bin/bash
# while-read2: read lines from a file
sort -k 1,1 -k 2n distros.txt | while read distro version release; do
  printf &quot;Distro: %s\tVersion: %s\tReleased: %s\n&quot; \
      $distro \
      $version \
      $release
done
</code></pre>
</li>
</ul>
<h3 id="Stay-out-of-trouble"><a href="#Stay-out-of-trouble" class="headerlink" title="Stay out of trouble"></a>Stay out of trouble</h3><h4 id="syntactic-errors"><a href="#syntactic-errors" class="headerlink" title="syntactic errors"></a>syntactic errors</h4><pre><code class="shell">if [ $number = 1 ]; then echo &quot;Number is equal to 1.&quot;

# add double quotes to prevent unexpected expansion
if [ &quot;$number = 1]; the echo &quot;Number is equal to 1.&quot;
</code></pre>
<h4 id="logical-errors"><a href="#logical-errors" class="headerlink" title="logical errors"></a>logical errors</h4><ul>
<li>incorrect conditional expressions. </li>
<li>“Off by one” errors. </li>
<li>Unanticipated situations.</li>
</ul>
<h4 id="testing"><a href="#testing" class="headerlink" title="testing"></a>testing</h4><pre><code class="shell"># use &#39;echo&#39; to show the expanded parameters
echo rm *  # TESTING
</code></pre>
<h4 id="debugging"><a href="#debugging" class="headerlink" title="debugging"></a>debugging</h4><ul>
<li>isolate the area related to problem<br><strong>commenting out</strong> the code sections the code</li>
<li>tracing<ul>
<li>echo more messages</li>
<li>a method of tracing of bash<br>```shell<br>#!/bin/bash -x<h1 id="trouble-script-to-demonstrate-common-errors"><a href="#trouble-script-to-demonstrate-common-errors" class="headerlink" title="trouble: script to demonstrate common errors"></a>trouble: script to demonstrate common errors</h1></li>
</ul>
</li>
</ul>
<h1 id="to-activate-tracing-for-the-entire-script-by-adding-the-x-option-to-the-first-line"><a href="#to-activate-tracing-for-the-entire-script-by-adding-the-x-option-to-the-first-line" class="headerlink" title="to activate tracing for the entire script by adding the -x option to the first line"></a>to activate tracing for the entire script by adding the -x option to the first line</h1><p>number=1<br>if [ $number = 1 ]; then<br>    echo “Number is equal to 1.”<br>else<br>    echo “Number is not equal to 1.”<br>fi</p>
<p>##############################################<br>export PS4=’$LINENO + ‘<br>trouble<br>5 + number=1<br>7 + ‘[‘ 1 = 1 ‘]’<br>8 + echo ‘Number is equal to 1.’<br>Number is equal to 1.</p>
<pre><code>
```shell
#!/bin/bash
# trouble: script to demonstrate common errors

# to perform a trace on a selected portion of a script
# we can use the set command with the -x option:
number=1
set -x # Turn on tracing
if [ $number = 1 ]; then
    echo &quot;Number is equal to 1.&quot;
else
    echo &quot;Number is not equal to 1.&quot;
fi
set +x # Turn off tracing
</code></pre><h3 id="Flow-control-case-branching"><a href="#Flow-control-case-branching" class="headerlink" title="Flow control: case branching"></a>Flow control: case branching</h3><pre><code class="shell">case word in
    [pattern [| pattern]...) commands ;;]...
esac
</code></pre>
<p>The patterns used by case are the same as those used by pathname expansion. Here are some valid patterns:<br><code>a)</code>:    Matches if word equals “a”.<br><code>[[:alpha:]])</code>:    Matches if word is a single alphabetic character.<br><code>???)</code>:    Matches if word is exactly three characters long.<br><code>*.txt)</code>:    Matches if word ends with the characters “.txt”.<br><code>*)</code>:    Matches any value of word. It is good practice to include this as the last pattern in a case command; that is, to catch any possible invalid values.</p>
<pre><code class="shell">#!/bin/bash
# case-menu: a menu driven system information program
clear
echo &quot;
Please Select:
1. Display System Information
2. Display Disk Space
3. Display Home Space Utilization
0. Quit
&quot;
read -p &quot;Enter selection [0-3] &gt; &quot;
case $REPLY in
    0)  echo &quot;Program terminated.&quot;
        exit
        ;;
    1)  echo &quot;Hostname: $HOSTNAME&quot;
        uptime
        ;;
    2)  df -h
        ;;
    3)  if [[ $(id -u) -eq 0 ]]; then
            echo &quot;Home Space Utilization (All Users)&quot;
            du -sh /home/*
        else
            echo &quot;Home Space Utilization ($USER)&quot;
            du -sh $HOME
        fi
        ;;
    *)  echo &quot;Invalid entry&quot; &gt;&amp;2
        exit 1
        ;;
esac
</code></pre>
<h4 id="match-more-the-one-test"><a href="#match-more-the-one-test" class="headerlink" title="match more the one test"></a>match more the one test</h4><p>In bash <strong>prior to version 4.0</strong> there was <strong>no way</strong> for case to match more than one test.<br>Modern versions of bash, add the <code>;;&amp;</code> notation to terminate each action, we can do this:</p>
<pre><code class="shell">#!/bin/bash
# case4-2: test a character
read -n 1 -p &quot;Type a character &gt; &quot;
echo
case $REPLY in
    [[:upper:]])    echo &quot;&#39;$REPLY&#39; is upper case.&quot; ;;&amp;
    [[:lower:]])    echo &quot;&#39;$REPLY&#39; is lower case.&quot; ;;&amp;
    [[:alpha:]])    echo &quot;&#39;$REPLY&#39; is alphabetic.&quot; ;;&amp;
    [[:digit:]])    echo &quot;&#39;$REPLY&#39; is a digit.&quot; ;;&amp;
    [[:graph:]])    echo &quot;&#39;$REPLY&#39; is a visible character.&quot; ;;&amp;
    [[:punct:]])    echo &quot;&#39;$REPLY&#39; is a punctuation symbol.&quot; ;;&amp;
    [[:space:]])    echo &quot;&#39;$REPLY&#39; is a whitespace character.&quot; ;;&amp;
    [[:xdigit:]])   echo &quot;&#39;$REPLY&#39; is a hexadecimal digit.&quot; ;;&amp;
esac
#####################################################################
case4-2
Type a character &gt; a
&#39;a&#39; is lower case.
&#39;a&#39; is alphabetic.
&#39;a&#39; is a visible character.
&#39;a&#39; is a hexadecimal digit.
</code></pre>
<h3 id="Positional-parameters"><a href="#Positional-parameters" class="headerlink" title="Positional parameters"></a>Positional parameters</h3><h4 id="access-to-the-contents-of-the-command-line"><a href="#access-to-the-contents-of-the-command-line" class="headerlink" title="access to the contents of the command line"></a>access to the contents of the command line</h4><pre><code class="shell">#!/bin/bash
# posit-param: script to view command line parameters
echo &quot;
Number of arguments: $#
\$0 = $0
\$1 = $1
\$2 = $2
&quot;
#####################################################
posit-param
Number of arguments: 0
$0 = /home/me/bin/posit-param
$1 =
$2 =
#####################################################
Number of arguments: 2
posit-param a b
$0 = /home/me/bin/posit-param
$1 = a
$2 = b
</code></pre>
<h4 id="shift-access-to-a-large-number-of-arguments"><a href="#shift-access-to-a-large-number-of-arguments" class="headerlink" title="shift, access to a large number of arguments"></a>shift, access to a large number of arguments</h4><p>Each time shift is executed, the value of <code>$2</code> is moved to <code>$1</code>, the value of <code>$3</code> is moved to <code>$2</code> and so on.<br>The value of <code>$#</code> is also <strong>reduced by one</strong>.<br>In addition to <code>$0</code>, which <strong>never changes</strong>.</p>
<pre><code class="shell">#!/bin/bash
# posit-param2: script to display all arguments
count=1
while [[ $# -gt 0 ]]; do
    echo &quot;Argument $count = $1&quot;
    count=$((count + 1))
    shift
done
#####################################################
posit-param2 a b c d
Argument 1 = a
Argument 2 = b
Argument 3 = c
Argument 4 = d
</code></pre>
<h4 id="group-positional-parameters"><a href="#group-positional-parameters" class="headerlink" title="group positional parameters"></a>group positional parameters</h4><p><code>“$@”</code> is by far the most useful for most situations, because it preserves the integrity of each positional parameter.</p>
<pre><code class="shell">#!/bin/bash
# posit-params3 : script to demonstrate $* and $@
print_params () {
    echo &quot;\$1 = $1&quot;
    echo &quot;\$2 = $2&quot;
    echo &quot;\$3 = $3&quot;
    echo &quot;\$4 = $4&quot;
}
pass_params () {
    echo -e &quot;\n&quot; &#39;$* :&#39;;      print_params   $*
    echo -e &quot;\n&quot; &#39;&quot;$*&quot; :&#39;;    print_params   &quot;$*&quot;
    echo -e &quot;\n&quot; &#39;$@ :&#39;;      print_params   $@
    echo -e &quot;\n&quot; &#39;&quot;$@&quot; :&#39;;    print_params   &quot;$@&quot;
}
pass_params &quot;word&quot; &quot;words with spaces&quot;
#####################################################
posit-param3
 $* :
$1 = word
$2 = words
$3 = with
$4 = spaces
 &quot;$*&quot; :
$1 = word words with spaces
$2 =
$3 =
$4 =
 $@ :
$1 = word
$2 = words
$3 = with
$4 = spaces
 &quot;$@&quot; :
$1 = word
$2 = words with spaces
$3 =
$4 =
</code></pre>
<pre><code class="shell"># with our arguments
both $* and $@ produce a four word result:
     word words with spaces
&quot;$*&quot; produces a one word result:
    &quot;word words with spaces&quot;
&quot;$@&quot; produces a two word result:
    &quot;word&quot; &quot;words with spaces&quot;
</code></pre>
<h4 id="a-complicated-application"><a href="#a-complicated-application" class="headerlink" title="a complicated application"></a>a complicated application</h4><ul>
<li>Output file <code>-f or --file</code></li>
<li>Interactive mode <code>-i or --interactive</code></li>
<li>Help <code>-h or --help</code><pre><code class="shell">#!/bin/bash
# sys_info_page: program to output a system information page
PROGNAME=$(basename $0)
TITLE=&quot;System Information Report For $HOSTNAME&quot;
CURRENT_TIME=$(date +&quot;%x %r %Z&quot;)
TIMESTAMP=&quot;Generated $CURRENT_TIME, by $USER&quot;
report_uptime () {
  cat &lt;&lt;- _EOF_
      &lt;H2&gt;System Uptime&lt;/H2&gt;
      &lt;PRE&gt;$(uptime)&lt;/PRE&gt;
  _EOF_
  return
}
report_disk_space () {
  cat &lt;&lt;- _EOF_
      &lt;H2&gt;Disk Space Utilization&lt;/H2&gt;
      &lt;PRE&gt;$(df -h)&lt;/PRE&gt;
  _EOF_
  return
}
report_home_space () {
  if [[ $(id -u) -eq 0 ]]; then
      cat &lt;&lt;- _EOF_
          &lt;H2&gt;Home Space Utilization (All Users)&lt;/H2&gt;
          &lt;PRE&gt;$(du -sh /home/*)&lt;/PRE&gt;
      _EOF_
  else
      cat &lt;&lt;- _EOF_
          &lt;H2&gt;Home Space Utilization ($USER)&lt;/H2&gt;
          &lt;PRE&gt;$(du -sh $HOME)&lt;/PRE&gt;
      _EOF_
  fi
  return
}
usage () {
  echo &quot;$PROGNAME: usage: $PROGNAME [-f file | -i]&quot;
  return
}
write_html_page () {
  cat &lt;&lt;- _EOF_
      &lt;HTML&gt;
          &lt;HEAD&gt;
              &lt;TITLE&gt;$TITLE&lt;/TITLE&gt;
          &lt;/HEAD&gt;
          &lt;BODY&gt;
              &lt;H1&gt;$TITLE&lt;/H1&gt;
              &lt;P&gt;$TIMESTAMP&lt;/P&gt;
              $(report_uptime)
              $(report_disk_space)
              $(report_home_space)
          &lt;/BODY&gt;
      &lt;/HTML&gt;
  _EOF_
  return
}
# process command line options
interactive=
filename=
while [[ -n $1 ]]; do
  case $1 in
      -f | --file)          shift
                            filename=$1
                            ;;
      -i | --interactive)   interactive=1
                            ;;
      -h | --help)          usage
                            exit
                            ;;
      *)                    usage &gt;&amp;2
                            exit 1
                            ;;
  esac
  shift
done
# interactive mode
if [[ -n $interactive ]]; then
  while true; do
      read -p &quot;Enter name of output file: &quot; filename
      if [[ -e $filename ]]; then
          read -p &quot;&#39;$filename&#39; exists. Overwrite? [y/n/q] &gt; &quot;
          case $REPLY in
              Y|y)    break
                      ;;
              Q|q)    echo &quot;Program terminated.&quot;
                      exit
                      ;;
              *)      continue
                      ;;
          esac
      fi
  done
fi
# output html page
if [[ -n $filename ]]; then
  if touch $filename &amp;&amp; [[ -f $filename ]]; then
      write_html_page &gt; $filename
  else
      echo &quot;$PROGNAME: Cannot write file &#39;$filename&#39;&quot; &gt;&amp;2
      exit 1
  fi
else
  write_html_page
fi
</code></pre>
</li>
</ul>
<h3 id="control-for-loop"><a href="#control-for-loop" class="headerlink" title="control: for loop"></a>control: for loop</h3><h4 id="the-original-for-command’s-syntax"><a href="#the-original-for-command’s-syntax" class="headerlink" title="the original for command’s syntax"></a>the original for command’s syntax</h4><pre><code class="shell">for variable [in words]; do
    commands
done
</code></pre>
<pre><code class="shell">#!/bin/bash
# longest-word : find longest string in a file
while [[ -n $1 ]]; do
    if [[ -r $1 ]]; then
        max_word=
        max_len=0
        for i in $(strings $1); do
            len=$(echo $i | wc -c)
            if (( len &gt; max_len )); then
                max_len=$len
                max_word=$i
            fi
        done
        echo &quot;$1: &#39;$max_word&#39; ($max_len characters)&quot;
    fi
    shift
done
</code></pre>
<p>If the optional in words portion of the for command is omitted, for defaults to processing the <strong>positional parameters</strong>.</p>
<pre><code class="shell"># test.sh 
#!/bin/bash
for i; do
    echo $i
done

####################
test 1 2 3
1
2
3
</code></pre>
<h4 id="C-style"><a href="#C-style" class="headerlink" title="C style"></a>C style</h4><pre><code class="shell">for (( expression1; expression2; expression3 )); do
    commands
done
</code></pre>
<pre><code class="shell">#!/bin/bash
# simple_counter : demo of C style for command
for (( i=0; i&lt;5; i=i+1 )); do
    echo $i
done
################################################
simple_counter
0
1
2
3
4
</code></pre>
<h3 id="Strings-and-numbers"><a href="#Strings-and-numbers" class="headerlink" title="Strings and numbers"></a>Strings and numbers</h3><p><code>omitted</code><br><a href="http://billie66.github.io/TLCL/book/chap35.html" target="_blank" rel="external">Strings and number</a></p>
<h3 id="Arrays"><a href="#Arrays" class="headerlink" title="Arrays"></a>Arrays</h3><ul>
<li>shell arrays is <code>0-based</code>.</li>
<li>one way to create an array<pre><code class="shell">declare -a a
</code></pre>
</li>
<li><p>usually in the following way</p>
<pre><code class="shell">name[subscript]=value
name=(value1 value2 ...)
days=(Sun Mon Tue Wed Thu Fri Sat)
days=([0]=Sun [1]=Mon [2]=Tue [3]=Wed [4]=Thu [5]=Fri [6]=Sat)
</code></pre>
</li>
<li><p>output the whole array<br><strong>(a small mistake in the book, corrected)</strong></p>
<pre><code class="shell">$ animals=(&quot;a dog&quot; &quot;a cat&quot; &quot;a fish&quot;)
for i in ${animals[*]}; do echo $i; done
a dog
a cat
a fish
for i in ${animals[@]}; do echo $i; done
a dog
a cat
a fish
for i in &quot;${animals[*]}&quot;; do echo $i; done
a dog a cat a fish
for i in &quot;${animals[@]}&quot;; do echo $i; done
a dog
a cat
a fish
</code></pre>
</li>
<li><p>determine the number of elements</p>
<pre><code class="shell">a[100]=foo
echo ${#a[@]} # number of array elements
1
echo ${#a[100]} # length of element 100
3
</code></pre>
</li>
<li><p>find the index of array used</p>
<pre><code class="shell">foo=([2]=a [4]=b [6]=c)
for i in &quot;${foo[@]}&quot;; do echo $i; done
a
b
c
for i in &quot;${!foo[@]}&quot;; do echo $i; done
2
4
6
</code></pre>
</li>
<li><p>sort the array</p>
<pre><code class="shell">#!/bin/bash
# array-sort : Sort an array
a=(f e d c b a)
echo &quot;Original array: ${a[@]}&quot;
a_sorted=($(for i in &quot;${a[@]}&quot;; do echo $i; done | sort))
echo &quot;Sorted array: ${a_sorted[@]}&quot;
</code></pre>
</li>
<li><p>delete an array</p>
<pre><code class="shell">$ foo=(a b c d e f)
$ echo ${foo[@]}
a b c d e f
$ unset foo
$ echo ${foo[@]}
$
##################################
$ foo=(a b c d e f)
$ echo ${foo[@]}
a b c d e f
$ unset &#39;foo[2]&#39;
$ echo ${foo[@]}
a b d e f
</code></pre>
</li>
<li><p>any reference to an array variable without a subscript refers to <strong>element zero</strong> of the array</p>
<pre><code class="shell">$ foo=(a b c d e f)
$ echo ${foo[@]}
a b c d e f
$ foo=A
$ echo ${foo[@]}
A b c d e f
</code></pre>
</li>
<li><p>associative array<br>associative arrays can <strong>only</strong> be created with the <code>declare</code> command using the new <code>-A</code> option</p>
<pre><code class="shell">declare -A colors
colors[&quot;red&quot;]=&quot;#ff0000&quot;
colors[&quot;green&quot;]=&quot;#00ff00&quot;
colors[&quot;blue&quot;]=&quot;#0000ff&quot;
echo ${colors[&quot;blue&quot;]}
</code></pre>
<h3 id="Odds-and-ends"><a href="#Odds-and-ends" class="headerlink" title="Odds and ends"></a>Odds and ends</h3></li>
<li><p>group command or subshell<br>```shell</p>
<h1 id="group-command"><a href="#group-command" class="headerlink" title="group command"></a>group command</h1><h1 id="the-braces-must-be-separated-from-the-commands-by-a-space"><a href="#the-braces-must-be-separated-from-the-commands-by-a-space" class="headerlink" title="the braces must be separated from the commands by a space"></a>the braces must be separated from the commands by a space</h1><h1 id="the-last-command-must-be-terminated-with-either-a-semicolon-or-a-newline-prior-to-the-closing-brace"><a href="#the-last-command-must-be-terminated-with-either-a-semicolon-or-a-newline-prior-to-the-closing-brace" class="headerlink" title="the last command must be terminated with either a semicolon or a newline prior to the closing brace."></a>the last command must be terminated with either a semicolon or a newline prior to the closing brace.</h1><p>{ command1; command2; [command3; …] }</p>
</li>
</ul>
<h1 id="subshell"><a href="#subshell" class="headerlink" title="subshell"></a>subshell</h1><p>(command1; command2; [command3;…])</p>
<pre><code>
```shell
ls -l &gt; output.txt
echo &quot;Listing of foo.txt&quot; &gt;&gt; output.txt
cat foo.txt &gt;&gt; output.txt

###################################################################
{ ls -l; echo &quot;Listing of foo.txt&quot;; cat foo.txt; } &gt; output.txt
(ls -l; echo &quot;Listing of foo.txt&quot;; cat foo.txt) &gt; output.txt
</code></pre><ul>
<li>process substitution<br>```shell<h1 id="for-processes-that-produce-standard-output"><a href="#for-processes-that-produce-standard-output" class="headerlink" title="for processes that produce standard output:"></a>for processes that produce standard output:</h1>&lt;(a list of commands)</li>
</ul>
<h1 id="for-processes-that-intake-standard-input"><a href="#for-processes-that-intake-standard-input" class="headerlink" title="for processes that intake standard input:"></a>for processes that intake standard input:</h1><blockquote>
<p>(a list of commands)<br>```</p>
</blockquote>
<pre><code class="shell"># to solve the problem brought by subshell, we can employ process substitution like this:
read &lt; &lt;(echo &quot;foo&quot;)
echo $REPLY
</code></pre>
<ul>
<li>trap<pre><code class="shell">trap argument signal [signal...]
</code></pre>
</li>
</ul>
<pre><code class="shell">#!/bin/bash
# trap-demo2 : simple signal handling demo
exit_on_signal_SIGINT () {
    echo &quot;Script interrupted.&quot; 2&gt;&amp;1
    exit 0
}
exit_on_signal_SIGTERM () {
    echo &quot;Script terminated.&quot; 2&gt;&amp;1
    exit 0
}
trap exit_on_signal_SIGINT SIGINT
trap exit_on_signal_SIGTERM SIGTERM
for i in {1..5}; do
    echo &quot;Iteration $i of 5&quot;
    sleep 5
done
</code></pre>
<ul>
<li><p>temp file<br><code>mktemp</code></p>
<pre><code class="shell">tempfile=$(mktemp /tmp/foobar.$$.XXXXXXXXXX)
echo $tempfile
/tmp/foobar.6593.UOZuvM6654
</code></pre>
</li>
<li><p>asynchronous execution<br><code>wait</code></p>
</li>
</ul>
<pre><code class="shell">#!/bin/bash
# async-parent : Asynchronous execution demo (parent)
echo &quot;Parent: starting...&quot;
echo &quot;Parent: launching child script...&quot;
async-child &amp;
pid=$!
echo &quot;Parent: child (PID= $pid) launched.&quot;
echo &quot;Parent: continuing...&quot;
sleep 2
echo &quot;Parent: pausing to wait for child to finish...&quot;
wait $pid
echo &quot;Parent: child is finished. Continuing...&quot;
echo &quot;Parent: parent is done. Exiting.&quot;
</code></pre>
<pre><code class="shell">#!/bin/bash
# async-child : Asynchronous execution demo (child)
echo &quot;Child: child is running...&quot;
sleep 5
echo &quot;Child: child is done. Exiting.&quot;
</code></pre>
<pre><code class="shell">async-parent
Parent: starting...
Parent: launching child script...
Parent: child (PID= 6741) launched.
Parent: continuing...
Child: child is running...
Parent: pausing to wait for child to finish...
Child: child is done. Exiting.
Parent: child is finished. Continuing...
Parent: parent is done. Exiting.
</code></pre>
<ul>
<li>named pipe<pre><code class="shell"># it works as `process1 | process2`
process1 &gt; named_pipe
process2 &lt; named_pipe
</code></pre>
</li>
</ul>
<p><code>mkfifo</code></p>
<pre><code class="shell">mkfifo pipe1
# process1
ls -l &gt; pipe1
# process2
cat &lt; pipe1
</code></pre>
<h3 id="Summay"><a href="#Summay" class="headerlink" title="Summay"></a>Summay</h3><p>Well, we have completed our journey. The only thing left to do now is <strong>practice, practice, practice</strong>. Even though we covered a lot of ground in our trek, we barely <strong>scratched the surface</strong> as far as the command line goes. There are still thousands of command line programs left to be discovered and enjoyed. Start digging around in <code>/usr/bin</code> and you’ll see!</p>

        
    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用 DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #757575;
            text-shadow: 0;
            display: none
        }
</style>
	
<div class="btn_click_load"> 
    <button class="disqus_click_btn">Read Comments (Make sure disq.us, disquscdn.com and disqus.com can load properly)</button>
</div>

<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://TaoSama.github.io/2017/07/31/shell-script-notes/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://TaoSama.github.io/2017/07/31/shell-script-notes/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/ls-javascript" id="disqus-lazy-load-script">
    $.ajax({
        url: 'https://disqus.com/next/config.json',
        timeout: 4000,
        type: 'GET',
        success: (function() {
            var d = document;
            var s = d.createElement('script');
            s.src = '//taosamaw.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
            $('.disqus_click_btn').css('display','none');
        })(),
        error: function() {
          $('.disqus_click_btn').css('display','block');
        }
    });
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//taosamaw.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.disqus_click_btn').css('display','none');
    });
</script>
  	

</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>

                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/08/04/effective-go-notes/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            Newer
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/07/01/shell-notes/" id="post_nav-older" class="next-content">
            Older
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="TaoSama's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        lwt1367@qq.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="mailto:lwt1367@qq.com" target="_blank" title="Email Me">
                        
                            <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    
        <li id="sidebar-first-li">
            <a href="/">
                
                    <i class="material-icons sidebar-material-icons">home</i>
                
                Home
            </a>
        </li>
        
    

    <!-- Archives  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">inbox</i>
                
                    Archives
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
            <li>
                <a class="sidebar_archives-link" href="/archives/2018/03/">March 2018<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/10/">October 2017<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/09/">September 2017<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/08/">August 2017<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/07/">July 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/06/">June 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/05/">May 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/04/">April 2017<span class="sidebar_archives-count">10</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">March 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">February 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/11/">November 2016<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/09/">September 2016<span class="sidebar_archives-count">7</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/08/">August 2016<span class="sidebar_archives-count">42</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/07/">July 2016<span class="sidebar_archives-count">12</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/06/">June 2016<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/05/">May 2016<span class="sidebar_archives-count">24</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/04/">April 2016<span class="sidebar_archives-count">41</span></a></li><li><a class="sidebar_archives-link" href="/archives/2016/03/">March 2016<span class="sidebar_archives-count">42</span></a>
            </ul>
        </li>
        
    

    <!-- Categories  -->
    
        <li class="dropdown">
            <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
                
                    <i class="material-icons sidebar-material-icons">chrome_reader_mode</i>
                
                Categories
                <b class="caret"></b>
            </a>
            <ul class="dropdown-menu">
                <li>
                <a class="sidebar_archives-link" href="/categories/Doing/">Doing<span class="sidebar_archives-count">28</span></a></li><li><a class="sidebar_archives-link" href="/categories/Doing/Blog/">Blog<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Doing/CPP/">CPP<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/categories/Doing/Computer-Vision/">Computer Vision<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Doing/Distributed/">Distributed<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Doing/Go/">Go<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Doing/Hive/">Hive<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Doing/Interview/">Interview<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/Doing/Life/">Life<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/Doing/Machine-Learning/">Machine Learning<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Doing/Python/">Python<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/Doing/Shell/">Shell<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/Doing/Spring/">Spring<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/动态规划/">动态规划<span class="sidebar_archives-count">27</span></a></li><li><a class="sidebar_archives-link" href="/categories/动态规划/bitset优化/">bitset优化<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/动态规划/数位dp/">数位dp<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/动态规划/数据结构优化/">数据结构优化<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/动态规划/斜率优化/">斜率优化<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/动态规划/最长上升子序列/">最长上升子序列<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/动态规划/树形dp/">树形dp<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/动态规划/概率-期望dp/">概率/期望dp<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/动态规划/状压dp/">状压dp<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/动态规划/矩阵优化/">矩阵优化<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/动态规划/线性dp/">线性dp<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/图论/">图论<span class="sidebar_archives-count">26</span></a></li><li><a class="sidebar_archives-link" href="/categories/图论/LCA/">LCA<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/图论/二分图/">二分图<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/图论/拓扑排序/">拓扑排序<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/图论/最大团/">最大团<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/图论/最小生成树/">最小生成树<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/图论/最短路/">最短路<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/图论/生成树计数/">生成树计数<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/图论/网络流/">网络流<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/图论/连通图/">连通图<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/categories/套题/">套题<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/字符串/">字符串<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/字符串/AC自动机/">AC自动机<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/字符串/Manacher-回文树/">Manacher/回文树<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/字符串/SA-SAM/">SA/SAM<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/小结/">小结<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/categories/思维/">思维<span class="sidebar_archives-count">19</span></a></li><li><a class="sidebar_archives-link" href="/categories/思维/分治/">分治<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/思维/扫描线/">扫描线<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/思维/数形结合/">数形结合<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/思维/离线思想/">离线思想<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/categories/思维/贪心/">贪心<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/思维/贪心/区间贪心/">区间贪心<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/思维/逆向思维/">逆向思维<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/技巧/">技巧<span class="sidebar_archives-count">17</span></a></li><li><a class="sidebar_archives-link" href="/categories/技巧/two-pointers/">two pointers<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/技巧/xor/">xor<span class="sidebar_archives-count">9</span></a></li><li><a class="sidebar_archives-link" href="/categories/技巧/反转问题/">反转问题<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/技巧/哈希/">哈希<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/技巧/折半搜索/">折半搜索<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/数学/">数学<span class="sidebar_archives-count">26</span></a></li><li><a class="sidebar_archives-link" href="/categories/数学/CRT/">CRT<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/数学/FFT-NTT-FWT/">FFT/NTT/FWT<span class="sidebar_archives-count">6</span></a></li><li><a class="sidebar_archives-link" href="/categories/数学/博弈/">博弈<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/数学/容斥/">容斥<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/数学/概率-期望/">概率/期望<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/数学/组合数学/">组合数学<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/数学/贡献/">贡献<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/数学/高斯消元/">高斯消元<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/数据结构/">数据结构<span class="sidebar_archives-count">18</span></a></li><li><a class="sidebar_archives-link" href="/categories/数据结构/主席树/">主席树<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/数据结构/二叉搜索树/">二叉搜索树<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/数据结构/可持久化Trie/">可持久化Trie<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/数据结构/并查集/">并查集<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/数据结构/树上莫队/">树上莫队<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/数据结构/树状数组/">树状数组<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/数据结构/线段树/">线段树<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/暴力/">暴力<span class="sidebar_archives-count">15</span></a></li><li><a class="sidebar_archives-link" href="/categories/暴力/大模拟/">大模拟<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/暴力/小模拟/">小模拟<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/暴力/搜索/">搜索<span class="sidebar_archives-count">8</span></a></li><li><a class="sidebar_archives-link" href="/categories/暴力/搜索/dfs-bfs/">dfs/bfs<span class="sidebar_archives-count">5</span></a></li><li><a class="sidebar_archives-link" href="/categories/暴力/搜索/二-三分搜索/">二/三分搜索<span class="sidebar_archives-count">3</span></a></li><li><a class="sidebar_archives-link" href="/categories/暴力/签到/">签到<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/计算几何/">计算几何<span class="sidebar_archives-count">15</span></a></li><li><a class="sidebar_archives-link" href="/categories/计算几何/三维几何/">三维几何<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/计算几何/扫描线/">扫描线<span class="sidebar_archives-count">4</span></a></li><li><a class="sidebar_archives-link" href="/categories/计算几何/数值积分/">数值积分<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/categories/计算几何/旋转卡壳/">旋转卡壳<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/计算几何/极角扫描/">极角扫描<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/categories/计算几何/极角排序/">极角排序<span class="sidebar_archives-count">1</span></a>
            </ul>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Pages  -->
    
        <li>
            <a href="/about" title="About">
                
                    <i class="material-icons sidebar-material-icons">person</i>
                
                About
            </a>
        </li>
        
            <li class="divider"></li>
        
    

    <!-- Article Number  -->
    
        <li>
            <a href="/archives">
                Number of articles
                <span class="sidebar-badge">206</span>
            </a>
        </li>
        
    
</ul>


        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Sidebar Divider -->

    <div class="sidebar-divider"></div>


<!-- Theme Material -->


<!-- Help & Support -->
<!--

    <a href="mailto:hiviosey@gmail.com" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.help
        <span class="mdl-button__ripple-container">
          <span class="mdl-ripple"></span>
        </span>
      </div>
    </a>

-->

<!-- Feedback -->
<!--

    <a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        sidebar.feedback
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

<!-- About Theme -->
<!--

    <a href="https://blog.viosey.com/index.php/Material.html" target="_blank" class="sidebar-footer-text-a">
        <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
             sidebar.about_theme
            <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
    </a>

-->

    </div>

    <!-- Sidebar Image -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div id="back-to-top" class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    
        <a href="https://www.facebook.com/lwt1367" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-facebook">
                <span class="visuallyhidden">Facebook</span>
            </button><!--
     --></a>
    

    <!-- Google + -->
    

    <!-- Weibo -->
    
        <a href="https://weibo.com/u/3863360617" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-weibo">
                <span class="visuallyhidden">Weibo</span>
            </button><!--
     --></a>
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/TaoSama" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn footer-sns-github">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    
    
    <!-- V2EX -->
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;2016&nbsp;-<script type="text/javascript">var fd = new Date();document.write("&nbsp;" + fd.getFullYear() + "&nbsp;");</script>TaoSama's Blog
            
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>


                    <!-- Import JS File -->

    <script>lsloader.load("lazyload_js","/js/lazyload.min.js?1BcfzuNXqV+ntF6gq+5X3Q==", true)</script>



    <script>lsloader.load("js_js","/js/js.min.js?V/53wGualMuiPM3xoetD5Q==", true)</script>



    <script>lsloader.load("np_js","/js/nprogress.js?pl3Qhb9lvqR1FlyLUna1Yw==", true)</script>


<script type="text/ls-javascript" id="NProgress-script">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();
    $('#nprogress .bar').css({
        'background': '#29d'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #29d, 0 0 15px #29d'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#29d',
        'border-left-color': '#29d'
    });
    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>







    <!-- Busuanzi -->
    <script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>



   <!-- 使用 DISQUS js 代码 -->






<!-- UC Browser Compatible -->
<script>
	var agent = navigator.userAgent.toLowerCase();
	if(agent.indexOf('ucbrowser')>0) {
		document.write('<link rel="stylesheet" href="/css/uc.css">');
	   alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
	}
</script>

<!-- Import prettify js  -->

    
        
            <script>lsloader.load("prettify_js","/js/prettify.min.js?WN07fivHQSMKWy7BmHBB6w==", true)</script>
        
    



<!-- Window Load -->
<!-- add class for prettify -->
<script type="text/ls-javascript" id="window-load">
    $(window).on('load', function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });

    
        
            $(function() {
                $('pre').addClass('prettyprint linenums').attr('style', 'overflow:auto;');
                prettyPrint();
                })
        
    
    
</script>

<!-- MathJax Load-->

    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
        tex2jax: { inlineMath: [ ["$", "$"], ["\\(","\\)"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno",skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']},
        TeX: {  noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } }, Macros: { href: "{}" } },
        messageStyle: "none"
    });
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

    <script src="https://cdn.bootcss.com/mathjax/2.7.2/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>




<!-- Bing Background -->


<script type="text/ls-javascript" id="lazy-load">
    // Offer LazyLoad
    queue.offer(function(){
        $('.lazy').lazyload({
            effect : 'show'
        });
    });

    // Start Queue
    $(document).ready(function(){
        setInterval(function(){
            queue.execNext();
        },200);
    });
</script>

<!-- Custom Footer -->



<script>
    (function(){
        var scriptList = document.querySelectorAll('script[type="text/ls-javascript"]')

        for (var i = 0; i < scriptList.length; ++i) {
            var item = scriptList[i];
            lsloader.runInlineScript(item.id,item.id);
        }
    })()
console.log('\n %c © Material Theme | Version: 1.5.2 | https://github.com/viosey/hexo-theme-material %c \n', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-left-radius:5px;border-bottom-left-radius:5px;', 'color:#455a64;background:#e0e0e0;padding:5px 0;border-top-right-radius:5px;border-bottom-right-radius:5px;');
</script>

                </main>
            </div>
        </body>
    
</html>
